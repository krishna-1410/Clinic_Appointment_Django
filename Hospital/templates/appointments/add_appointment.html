{% extends 'base.html' %}

{% block content %}

<!-- Breadcrumb -->
<!-- Page Title -->
<div class="container mt-0">
    <div class="row breadcrumb-bar">
        <div class="col-md-6">
            <h3 class="block-title">Add Appointment</h3>
        </div>
        <div class="col-md-6">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a href="index.html">
                        <span class="ti-home"></span>
                    </a>
                </li>
                <li class="breadcrumb-item">Appointments</li>
                <li class="breadcrumb-item active">Add Appointment</li>
            </ol>
        </div>
    </div>
</div>
<!-- /Page Title -->

<!-- /Breadcrumb -->
<!-- Main Content -->
<div class="container">

    <div class="row">
        <!-- Widget Item -->
        <div class="col-md-12">
            <div class="widget-area-2 proclinic-box-shadow">
                <h3 class="widget-title">Add Appointment</h3>
                <form method="post" action="{% url 'add_appointment' %}">
                    {% csrf_token %}
                    <div class="form-row">
                        <div class="form-group col-md-6">
                            <label for="patient-id">Patient ID</label>
                            <select class="form-control" id="patient-id" name="patient-id">
                                <option value="">---- Select Patient ----</option>
                                {% for patient in patients %}
                                    <option value="{{ patient.id }}">{{ patient.id }}</option>
                                {% empty %}
                                    <option value="">No patients available</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="department">Department</label>
                            <select class="form-control" id="department" name ="department">
                                <option>Neuro</option>
                                <option>Ortho</option>
                                <option>General</option>
                                <option>Derma</option>
                                <option>Paediatrics</option>
                                <option>Ophthalmology</option>
                                <option>ENT</option>
                            </select>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="doctor-name">Doctor Name</label>
                            <select class="form-control" id="doctor-name" name="doctor-name">
                                <option value="">---- Select Doctor ----</option>
                                {% for doctor in doctors %}
                                    <option value="{{ doctor.doctor_Name }}">{{ doctor.doctor_Name }}</option>
                                {% empty %}
                                    <option value="">No doctors available</option>
                                {% endfor %}
                            </select>
                        </div>
                        <div class="form-group col-md-6">
                            <label for="appointment-date">Appointment Date</label>
                            <input type="date" class="form-control" id="appointment-date" name="appointment-date">
                        </div>
                        <div class="form-group col-md-6">
                            <label for="time-slot">Time Slot</label>
                            <select class="form-control" id="time-slot" name="time-slot">
                                <option value="10:00">10:00 AM</option>
                                <option value="11:00">11:00 AM</option>
                                <option value="12:00">12:00 PM</option>
                                <option value="14:00">2:00 PM</option>
                                <option value="15:00">3:00 PM</option>
                                <option value="16:00">4:00 PM</option>
                                <option value="18:00">6:00 PM</option>
                                <option value="19:00">7:00 PM</option>
                                <option value="20:00">8:00 PM</option>
                            </select>
                        </div>
                        <div class="form-group col-md-12">
                            <label for="problem">Problem</label>
                            <textarea class="form-control" id="problem" rows="3" name="problem"></textarea>
                        </div>
                        
                        <div class="form-check col-md-12 mb-2">
                            <div class="text-left">
                                <div class="custom-control custom-checkbox">
                                    <input class="custom-control-input" type="checkbox" id="ex-check-2">
                                    <label class="custom-control-label" for="ex-check-2">Please Confirm</label>
                                </div>
                            </div>
                        </div>
                        <div class="form-group col-md-6 mb-3">
                            <button type="submit" class="btn btn-primary btn-lg">Submit</button>
                        </div>
                    </div>
                </form>
                <!-- Alerts -->
                {% if success %}
                    <div class="alert alert-success alert-dismissible fade show" role="alert">
                        <strong>Successfully Done!</strong> Appointment token Generated
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                {% elif error %}
                    <div class="alert alert-warning alert-dismissible fade show" role="alert">
                        <strong>Holy guacamole!</strong> {{ error }}
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">×</span>
                        </button>
                    </div>
                {% endif %}
                <!-- /Alerts -->
            </div>
        </div>
        <!-- /Widget Item -->
    </div>
</div>
<!-- /Main Content -->
{% endblock %}
